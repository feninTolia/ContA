"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[279],{6279:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var o,r,a,i,c,s,l=t(885),d=t(2791),u=t(9434),m=function(n){return n.contacts},p=function(n){return n.contacts.contacts.items},x=function(n){return n.contacts.filter},h=function(n){return n.contacts.isLoading},b=t(667),f=t(5705),g=t(7103),_=t(168),j=t(6444),v=(0,j.ZP)(f.l0)(o||(o=(0,_.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  width: 600px;\n  margin: 0px auto;\n  padding: 20px;\n  margin-bottom: 30px;\n\n  font-size: 24px;\n  color: #c9d1d9;\n  border-radius: 10px;\n"]))),k=(0,j.ZP)(f.gN)(r||(r=(0,_.Z)(["\n  box-sizing: border-box;\n  width: 100%;\n  font-size: 24px;\n  padding: 10px 20px;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  font-size: 28px;\n  border: none;\n  background-color: #999;\n\n  color: #2c2c2c;\n"]))),C=j.ZP.button(a||(a=(0,_.Z)(["\n  width: 50%;\n  margin-top: 20px;\n  padding: 10px 20px;\n  align-self: center;\n\n  font-size: 24px;\n  font-weight: lighter;\n  color: black;\n  border-radius: 10px;\n  border: none;\n  transition: 150ms linear;\n  background-color: #6a8623;\n\n  :hover {\n    background-color: #566d1c;\n  }\n"]))),w=j.ZP.div(i||(i=(0,_.Z)(["\n  padding-left: 10px;\n  font-size: 18px;\n  color: #bb0f0f;\n"]))),N=t(184),y=g.Ry().shape({name:g.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Please enter the required field").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),number:g.Z_().matches(/^(?:\+38)?(0\d{9})$/,"Phone number is not valid. For example 0XXXXXXXXX").required("Please enter the required field")}),Z=function(n){var e=n.onAddContact,t=(0,u.v9)(m).isLoading;return(0,N.jsx)(f.J9,{initialValues:{name:"",number:""},validationSchema:y,onSubmit:function(n,t){t.resetForm(),e(n)},children:function(n){var e=n.errors,o=n.touched;return(0,N.jsxs)(v,{noValidate:!0,children:[(0,N.jsxs)("label",{htmlFor:"name",children:["Name",(0,N.jsx)(k,{type:"text",name:"name",id:"name",required:!0}),o.name&&e.name&&(0,N.jsx)(w,{children:e.name})]}),(0,N.jsxs)("label",{htmlFor:"number",children:["Number",(0,N.jsx)(k,{type:"tel",name:"number",id:"number",required:!0}),o.number&&e.number&&(0,N.jsx)(w,{children:e.number})]}),(0,N.jsx)(C,{type:"submit",disabled:t&&!0,children:"Add contact"})]})}})},I=(0,j.ZP)(f.gN)(c||(c=(0,_.Z)(["\n  width: 500px;\n\n  font-size: 28px;\n  box-sizing: border-box;\n  margin-top: 10px;\n  border-radius: 10px;\n  border: none;\n  background-color: #999;\n  padding: 5px 10px;\n  color: #2c2c2c;\n"]))),P=j.ZP.label(s||(s=(0,_.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n"]))),U=t(3661),F=function(){var n=(0,u.I0)();return(0,N.jsx)(f.J9,{initialValues:{filter:""},onSubmit:function(n){n.resetForm()},children:function(e){var t=e.handleChange;return(0,N.jsx)(f.l0,{children:(0,N.jsxs)(P,{htmlFor:"filter",children:["Find contacts by the name",(0,N.jsx)(I,{name:"filter",id:"filter",type:"text",onChange:function(e){n((0,U.Yx)(e.target.value)),t(e)}})]})})}})},z="ContactItem_phoneBtn__aDrCl",S="ContactItem_deleteIcon__5nKtJ",B="ContactItem_deleteBtn__iJGwj",X="ContactItem_contactItem__akpex",q="UpdateContact_updateIcon__SczG+",A="UpdateContact_updateBtn__hmfS2",L="UpdateContact_backdrop__3d8Ur",D="UpdateContact_updateForm__8u6Ci",J="UpdateContact_closeBtn__ZSqBI",T="UpdateContact_label__tkkrm",V="UpdateContact_input__xZivI",E="UpdateContact_button__Do07V",G=function(n){var e,t=n.id,o=(0,d.useState)(!1),r=(0,l.Z)(o,2),a=r[0],i=r[1],c=(0,u.I0)(),s=(0,u.v9)(h);return(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{type:"button",onClick:function(){i(!0)},className:A,children:(0,N.jsx)("img",{src:"https://img.icons8.com/android/24/228BE6/info.png",alt:"info",width:"20px",className:q})}),a&&(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"close",className:J,onClick:function(){i(!1)}}),(0,N.jsxs)("form",{className:D,children:[(0,N.jsxs)("label",{className:T,children:["Updated phone",(0,N.jsx)("input",{type:"text",name:"",className:V})]}),(0,N.jsxs)("label",{className:T,children:["Updated number",(0,N.jsx)("input",{type:"text",name:"",className:V})]}),(0,N.jsx)("button",{type:"button",onClick:(e=t,function(){console.log(e),c((0,b.Tk)({userId:e,name:"test2",number:"0100000101"})).unwrap().then((function(){return i(!1)}))}),className:E,children:s?" Updating... ":"Update contact"})]})]})]})},K=function(n){var e=n.id,t=n.name,o=n.number,r=n.onDeleteContact,a=(0,u.v9)(m).isLoading;return(0,N.jsxs)("li",{className:X,children:[(0,N.jsx)("a",{href:"tel:".concat(o),children:(0,N.jsx)("img",{src:"https://img.icons8.com/sf-ultralight/50/40C057/phone.png",alt:"call",width:"32px",className:z})}),(0,N.jsxs)("span",{children:[t," "]}),(0,N.jsxs)("span",{children:[o," "]}),(0,N.jsx)(G,{id:e}),(0,N.jsx)("button",{type:"button",onClick:function(){return r(e)},disabled:a&&!0,className:B,children:(0,N.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"delete",className:S})})]})},O=function(){var n,e=(0,u.I0)(),t=(0,u.v9)(p),o=(0,u.v9)(x),r=function(n){e((0,b.GK)(n)),e((0,U.Sp)(n))};return(0,N.jsx)("ul",{children:null===(n=o||t)||void 0===n?void 0:n.map((function(n){var e=n.id,t=n.name,o=n.number;return(0,N.jsx)(K,{name:t,number:o,onDeleteContact:r,id:e},e)}))})},R="PhoneBook_wrapper__v8Rrr",$="PhoneBook_title__v6WEu",W="PhoneBook_done__v-LDj",Y=function(){var n=(0,d.useState)(!1),e=(0,l.Z)(n,2),t=e[0],o=e[1],r=(0,u.I0)(),a=(0,u.v9)(p),i=(0,u.v9)(m),c=i.isLoading,s=i.error;(0,d.useEffect)((function(){r((0,b.yF)())}),[r]);return(0,N.jsxs)("div",{className:R,children:[(0,N.jsx)("h1",{className:$,children:"Phonebook"}),t&&(0,N.jsx)("img",{src:"https://img.icons8.com/color/48/000000/checkmark--v1.png",alt:"done",className:W}),c&&(0,N.jsx)("img",{src:"https://img.icons8.com/color/48/000000/iphone-spinner--v1.png",alt:"\ud83d\udc21",className:"rotate"}),(0,N.jsx)("br",{}),(0,N.jsx)(Z,{onAddContact:function(n){a&&a.some((function(e){return e.number===n.number}))?window.alert("".concat(n.number," is already exist in your phonebook")):a&&a.some((function(e){return e.name===n.name}))?window.alert("".concat(n.name," is already exist in your phonebook")):(o(!1),r((0,b.uK)(n)).unwrap().then((function(){o(!0),setTimeout((function(){return o(!1)}),1900)})))}}),a.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h2",{children:"Contacts"}),(0,N.jsx)(F,{})]}),(0,N.jsx)(O,{}),s&&(0,N.jsx)("h2",{children:"`Oooops, smth went wrong (\xd7\ufe4f\xd7)`"})]})}}}]);
//# sourceMappingURL=279.1412b980.chunk.js.map