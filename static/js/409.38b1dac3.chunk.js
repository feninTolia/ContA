"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[409],{409:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var o,a,r,i,c,s,l=t(885),d=t(2791),m=t(9434),u=function(n){return n.contacts},p=function(n){return n.contacts.contacts.items},x=function(n){return n.contacts.filter},h=function(n){return n.contacts.isLoading},b=t(667),f=t(5705),g=t(7103),_=g.Ry().shape({name:g.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Please enter the required field").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),number:g.Z_().matches(/^(?:\+38)?(0\d{9})$/,"Phone number is not valid. For example 0XXXXXXXXX").required("Please enter the required field")}),j=t(168),v=t(6444),C=(0,v.ZP)(f.l0)(o||(o=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  width: 600px;\n  margin: 0px auto;\n  padding: 20px;\n  margin-bottom: 30px;\n\n  font-size: 24px;\n  color: #c9d1d9;\n  border-radius: 10px;\n"]))),k=(0,v.ZP)(f.gN)(a||(a=(0,j.Z)(["\n  box-sizing: border-box;\n  width: 100%;\n  font-size: 24px;\n  padding: 10px 20px;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  font-size: 28px;\n  border: none;\n  background-color: #999;\n\n  color: #2c2c2c;\n"]))),w=v.ZP.button(r||(r=(0,j.Z)(["\n  width: 50%;\n  margin-top: 20px;\n  padding: 10px 20px;\n  align-self: center;\n\n  font-size: 24px;\n  font-weight: lighter;\n  color: black;\n  border-radius: 10px;\n  border: none;\n  transition: 150ms linear;\n  background-color: #6a8623;\n\n  :hover {\n    background-color: #566d1c;\n  }\n"]))),Z=v.ZP.div(i||(i=(0,j.Z)(["\n  padding-left: 10px;\n  font-size: 18px;\n  color: #bb0f0f;\n"]))),N=t(3329),y=function(n){var e=n.onAddContact,t=(0,m.v9)(u).isLoading;return(0,N.jsx)(f.J9,{initialValues:{name:"",number:""},validationSchema:_,onSubmit:function(n,t){t.resetForm(),e(n)},children:function(n){var e=n.errors,o=n.touched;return(0,N.jsxs)(C,{noValidate:!0,children:[(0,N.jsxs)("label",{htmlFor:"name",children:["Name",(0,N.jsx)(k,{type:"text",name:"name",id:"name",required:!0}),o.name&&e.name&&(0,N.jsx)(Z,{children:e.name})]}),(0,N.jsxs)("label",{htmlFor:"number",children:["Number",(0,N.jsx)(k,{type:"tel",name:"number",id:"number",required:!0}),o.number&&e.number&&(0,N.jsx)(Z,{children:e.number})]}),(0,N.jsx)(w,{type:"submit",disabled:t&&!0,children:"Add contact"})]})}})},I=t(3661),P=(0,v.ZP)(f.gN)(c||(c=(0,j.Z)(["\n  width: 500px;\n\n  font-size: 28px;\n  box-sizing: border-box;\n  margin-top: 10px;\n  border-radius: 10px;\n  border: none;\n  background-color: #999;\n  padding: 5px 10px;\n  color: #2c2c2c;\n"]))),U=v.ZP.label(s||(s=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n"]))),F=function(){var n=(0,m.I0)();return(0,N.jsx)(f.J9,{initialValues:{filter:""},onSubmit:function(n){n.resetForm()},children:function(e){var t=e.handleChange;return(0,N.jsx)(f.l0,{children:(0,N.jsxs)(U,{htmlFor:"filter",children:["Find contacts by the name",(0,N.jsx)(P,{name:"filter",id:"filter",type:"text",onChange:function(e){n((0,I.Yx)(e.target.value)),t(e)}})]})})}})},S=t(4942),z=t(1413),B="UpdateContact_updateIcon__SczG+",X="UpdateContact_updateBtn__hmfS2",q="UpdateContact_backdrop__3d8Ur",A="UpdateContact_updateForm__8u6Ci",L="UpdateContact_closeBtn__ZSqBI",D="UpdateContact_label__tkkrm",J="UpdateContact_input__xZivI",T="UpdateContact_button__Do07V",V=function(n){var e,t=n.id,o=n.name,a=n.number,r=(0,d.useState)(!1),i=(0,l.Z)(r,2),c=i[0],s=i[1],u=(0,d.useState)({name:"",number:""}),p=(0,l.Z)(u,2),x=p[0],f=p[1],g=(0,m.I0)(),_=(0,m.v9)(h),j=function(n){f((0,z.Z)((0,z.Z)({},x),{},(0,S.Z)({},n.target.name,n.target.value)))};return(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{type:"button",onClick:function(){f({name:o,number:a}),s(!0)},className:X,children:(0,N.jsx)("img",{src:"https://img.icons8.com/android/24/228BE6/info.png",alt:"info",width:"20px",className:B})}),c&&(0,N.jsxs)("div",{className:q,children:[(0,N.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"close",className:L,onClick:function(){s(!1)}}),(0,N.jsxs)("form",{className:A,children:[(0,N.jsxs)("label",{className:D,children:["Updated name",(0,N.jsx)("input",{type:"text",name:"name",value:x.name,onChange:j,className:J})]}),(0,N.jsxs)("label",{className:D,children:["Updated number",(0,N.jsx)("input",{type:"tel",name:"number",value:x.number,onChange:j,className:J})]}),(0,N.jsx)("button",{type:"button",onClick:(e=t,function(n){""!==n.target.form[0].value.trim()&&""!==n.target.form[1].value.trim()?g((0,b.Tk)({userId:e,name:x.name,number:x.number})).unwrap().then((function(){return s(!1)})):s(!1)}),className:T,children:_?" Updating... ":"Update contact"})]})]})]})},E="ContactItem_phoneBtn__aDrCl",G="ContactItem_deleteIcon__5nKtJ",K="ContactItem_deleteBtn__iJGwj",O="ContactItem_contactItem__akpex",R=function(n){var e=n.id,t=n.name,o=n.number,a=n.onDeleteContact,r=(0,m.v9)(u).isLoading;return(0,N.jsxs)("li",{className:O,children:[(0,N.jsx)("a",{href:"tel:".concat(o),children:(0,N.jsx)("img",{src:"https://img.icons8.com/sf-ultralight/50/40C057/phone.png",alt:"call",width:"32px",className:E})}),(0,N.jsxs)("span",{children:[t," "]}),(0,N.jsxs)("span",{children:[o," "]}),(0,N.jsx)(V,{id:e,name:t,number:o}),(0,N.jsx)("button",{type:"button",onClick:function(){return a(e)},disabled:r&&!0,className:K,children:(0,N.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"delete",className:G})})]})},$=function(){var n,e=(0,m.I0)(),t=(0,m.v9)(p),o=(0,m.v9)(x),a=function(n){e((0,b.GK)(n)),e((0,I.Sp)(n))};return(0,N.jsx)("ul",{children:null===(n=o||t)||void 0===n?void 0:n.map((function(n){var e=n.id,t=n.name,o=n.number;return(0,N.jsx)(R,{name:t,number:o,onDeleteContact:a,id:e},e)}))})},W="PhoneBook_wrapper__v8Rrr",Y="PhoneBook_title__v6WEu",H="PhoneBook_done__v-LDj",M=function(){var n=(0,d.useState)(!1),e=(0,l.Z)(n,2),t=e[0],o=e[1],a=(0,m.I0)(),r=(0,m.v9)(p),i=(0,m.v9)(u),c=i.isLoading,s=i.error;(0,d.useEffect)((function(){a((0,b.yF)())}),[a]);return(0,N.jsxs)("div",{className:W,children:[(0,N.jsx)("h1",{className:Y,children:"Phonebook"}),t&&(0,N.jsx)("img",{src:"https://img.icons8.com/color/48/000000/checkmark--v1.png",alt:"done",className:H}),c&&(0,N.jsx)("img",{src:"https://img.icons8.com/color/48/000000/iphone-spinner--v1.png",alt:"\ud83d\udc21",className:"rotate"}),(0,N.jsx)("br",{}),(0,N.jsx)(y,{onAddContact:function(n){r&&r.some((function(e){return e.number===n.number}))?window.alert("".concat(n.number," is already exist in your phonebook")):r&&r.some((function(e){return e.name===n.name}))?window.alert("".concat(n.name," is already exist in your phonebook")):(o(!1),a((0,b.uK)(n)).unwrap().then((function(){o(!0),setTimeout((function(){return o(!1)}),1900)})))}}),r.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h2",{children:"Contacts"}),(0,N.jsx)(F,{})]}),(0,N.jsx)($,{}),s&&(0,N.jsx)("h2",{children:"`Oooops, smth went wrong (\xd7\ufe4f\xd7)`"})]})}}}]);
//# sourceMappingURL=409.38b1dac3.chunk.js.map