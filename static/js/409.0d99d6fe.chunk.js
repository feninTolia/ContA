"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[409],{409:function(n,e,t){t.r(e),t.d(e,{default:function(){return en}});var a,r,o,i,s,c,l=t(885),m=t(2791),d=t(9434),u=function(n){return n.contacts},p=function(n){return n.contacts.contacts.items},x=function(n){return n.contacts.filter},h=function(n){return n.contacts.isLoading},b=t(667),f=t(5705),g=t(7103),_=g.Ry().shape({name:g.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Please enter the required field").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),number:g.Z_().matches(/^(?:\+38)?(0\d{9})$/,"Phone number is not valid. For example 0XXXXXXXXX").required("Please enter the required field")}),j=t(168),v=t(6444),k=(0,v.ZP)(f.l0)(a||(a=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  width: 400px;\n  /* margin: 0px auto; */\n  padding: 20px;\n  margin-bottom: 30px;\n\n  background-color: #fff;\n\n  font-size: 24px;\n  color: #000;\n  border-radius: 10px;\n\n  box-shadow: rgba(173, 173, 208, 0.2) 0px 7px 29px 0px;\n  transition: 250ms;\n\n  &:hover {\n    box-shadow: rgba(92, 92, 211, 0.2) 0px 7px 29px 0px;\n    scale: 1.02;\n  }\n"]))),C=(0,v.ZP)(f.gN)(r||(r=(0,j.Z)(["\n  box-sizing: border-box;\n  width: 100%;\n  font-size: 24px;\n  padding: 10px 20px;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  font-size: 28px;\n  border: none;\n  background-color: rgba(235, 228, 232, 0.85);\n  backdrop-filter: blur(15px) saturate(86%);\n\n  color: #000;\n"]))),w=v.ZP.button(o||(o=(0,j.Z)(["\n  width: 50%;\n  margin-bottom: 10px;\n  padding: 10px 20px;\n  align-self: center;\n\n  font-size: 24px;\n  font-weight: lighter;\n  color: #fff;\n  border-radius: 10px;\n  border: none;\n  transition: 150ms linear;\n  background-color: #6a8623;\n\n  :hover {\n    background-color: #566d1c;\n  }\n"]))),N=v.ZP.div(i||(i=(0,j.Z)(["\n  padding-left: 10px;\n  font-size: 18px;\n  color: #bb0f0f;\n"]))),Z=t(3329),y=function(n){var e=n.onAddContact,t=(0,d.v9)(u).isLoading;return(0,Z.jsx)(f.J9,{initialValues:{name:"",number:""},validationSchema:_,onSubmit:function(n,t){t.resetForm(),e(n)},children:function(n){var e=n.errors,a=n.touched;return(0,Z.jsxs)(k,{noValidate:!0,children:[(0,Z.jsxs)("label",{htmlFor:"name",children:["Name",(0,Z.jsx)(C,{type:"text",name:"name",id:"name",required:!0}),a.name&&e.name&&(0,Z.jsx)(N,{children:e.name})]}),(0,Z.jsxs)("label",{htmlFor:"number",children:["Number",(0,Z.jsx)(C,{type:"tel",name:"number",id:"number",required:!0}),a.number&&e.number&&(0,Z.jsx)(N,{children:e.number})]}),(0,Z.jsx)(w,{type:"submit",disabled:t&&!0,children:"Add contact"})]})}})},I=t(3661),P=(0,v.ZP)(f.gN)(s||(s=(0,j.Z)(["\n  font-size: 24px;\n  padding: 10px 20px;\n  margin-top: 10px;\n  border-radius: 10px;\n  font-size: 28px;\n  border: none;\n  background-color: rgba(235, 228, 232, 0.85);\n  -webkit-backdrop-filter: blur(15px) saturate(86%);\n  backdrop-filter: blur(15px) saturate(86%);\n  color: #000;\n"]))),F=v.ZP.label(c||(c=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n"]))),U=function(){var n=(0,d.I0)();return(0,Z.jsx)(f.J9,{initialValues:{filter:""},onSubmit:function(n){n.resetForm()},children:function(e){var t=e.handleChange;return(0,Z.jsx)(f.l0,{children:(0,Z.jsxs)(F,{htmlFor:"filter",children:["Find contacts by the name",(0,Z.jsx)(P,{name:"filter",id:"filter",type:"text",onChange:function(e){n((0,I.Yx)(e.target.value)),t(e)}})]})})}})},B=t(4942),S=t(1413),z="UpdateContact_updateIcon__SczG+",X="UpdateContact_updateBtn__hmfS2",q="UpdateContact_backdrop__3d8Ur",L="UpdateContact_updateForm__8u6Ci",A="UpdateContact_closeBtn__ZSqBI",D="UpdateContact_label__tkkrm",J="UpdateContact_input__xZivI",G="UpdateContact_button__Do07V",T=function(n){var e,t=n.id,a=n.name,r=n.number,o=(0,m.useState)(!1),i=(0,l.Z)(o,2),s=i[0],c=i[1],u=(0,m.useState)({name:"",number:""}),p=(0,l.Z)(u,2),x=p[0],f=p[1],g=(0,d.I0)(),_=(0,d.v9)(h),j=function(n){f((0,S.Z)((0,S.Z)({},x),{},(0,B.Z)({},n.target.name,n.target.value)))};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("button",{type:"button",onClick:function(){f({name:a,number:r}),c(!0)},className:X,children:(0,Z.jsx)("img",{src:"https://img.icons8.com/android/24/228BE6/info.png",alt:"info",width:"20px",className:z})}),s&&(0,Z.jsxs)("div",{className:q,children:[(0,Z.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"close",className:A,onClick:function(){c(!1)}}),(0,Z.jsxs)("form",{className:L,children:[(0,Z.jsxs)("label",{className:D,children:["Updated name",(0,Z.jsx)("input",{type:"text",name:"name",value:x.name,onChange:j,className:J})]}),(0,Z.jsxs)("label",{className:D,children:["Updated number",(0,Z.jsx)("input",{type:"tel",name:"number",value:x.number,onChange:j,className:J})]}),(0,Z.jsx)("button",{type:"button",onClick:(e=t,function(n){""!==n.target.form[0].value.trim()&&""!==n.target.form[1].value.trim()?g((0,b.Tk)({userId:e,name:x.name,number:x.number})).unwrap().then((function(){return c(!1)})):c(!1)}),className:G,children:_?" Updating... ":"Update contact"})]})]})]})},V="ContactItem_phoneBtn__aDrCl",E="ContactItem_deleteIcon__5nKtJ",K="ContactItem_deleteBtn__iJGwj",W="ContactItem_contactItem__akpex",O="ContactItem_name__J4Xa5",R=function(n){var e=n.id,t=n.name,a=n.number,r=n.onDeleteContact,o=(0,d.v9)(u).isLoading;return(0,Z.jsxs)("li",{className:W,children:[(0,Z.jsx)("a",{href:"tel:".concat(a),children:(0,Z.jsx)("img",{src:"https://img.icons8.com/sf-ultralight/50/40C057/phone.png",alt:"call",width:"32px",className:V})}),(0,Z.jsxs)("span",{className:O,children:[t," "]}),(0,Z.jsxs)("span",{children:[a," "]}),(0,Z.jsx)(T,{id:e,name:t,number:a}),(0,Z.jsx)("button",{type:"button",onClick:function(){return r(e)},disabled:o&&!0,className:K,children:(0,Z.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"delete",className:E})})]})},$=function(){var n,e=(0,d.I0)(),t=(0,d.v9)(p),a=(0,d.v9)(x),r=function(n){e((0,b.GK)(n)),e((0,I.Sp)(n))};return(0,Z.jsx)("ul",{children:null===(n=a||t)||void 0===n?void 0:n.map((function(n){var e=n.id,t=n.name,a=n.number;return(0,Z.jsx)(R,{name:t,number:a,onDeleteContact:r,id:e},e)}))})},Y="PhoneBook_wrapper__v8Rrr",H="PhoneBook_contentWrapper__iwmFm",M="PhoneBook_title__v6WEu",Q="PhoneBook_done__v-LDj",nn="PhoneBook_contactsListWrapper__3Gs+n",en=function(){var n=(0,m.useState)(!1),e=(0,l.Z)(n,2),t=e[0],a=e[1],r=(0,d.I0)(),o=(0,d.v9)(p),i=(0,d.v9)(u),s=i.isLoading,c=i.error;(0,m.useEffect)((function(){r((0,b.yF)())}),[r]);return(0,Z.jsxs)("div",{className:Y,children:[(0,Z.jsx)("h1",{className:M,children:"Phonebook"}),t&&(0,Z.jsx)("img",{src:"https://img.icons8.com/color/48/000000/checkmark--v1.png",alt:"done",className:Q}),s&&(0,Z.jsx)("img",{src:"https://img.icons8.com/color/48/000000/iphone-spinner--v1.png",alt:"\ud83d\udc21",className:"rotate"}),(0,Z.jsxs)("div",{className:H,children:[(0,Z.jsx)(y,{onAddContact:function(n){o&&o.some((function(e){return e.number===n.number}))?window.alert("".concat(n.number," is already exist in your phonebook")):o&&o.some((function(e){return e.name===n.name}))?window.alert("".concat(n.name," is already exist in your phonebook")):(a(!1),r((0,b.uK)(n)).unwrap().then((function(){a(!0),setTimeout((function(){return a(!1)}),1900)})))}}),(0,Z.jsxs)("div",{className:nn,children:[o.length>0&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h2",{children:"Contacts"}),(0,Z.jsx)(U,{})]}),(0,Z.jsx)($,{}),c&&(0,Z.jsx)("h2",{children:"`Oooops, smth went wrong (\xd7\ufe4f\xd7)`"})]})]})]})}}}]);
//# sourceMappingURL=409.0d99d6fe.chunk.js.map