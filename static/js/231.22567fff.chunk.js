"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[231],{231:function(n,e,r){r.r(e),r.d(e,{default:function(){return J}});var t,o,i,a,c,s,l=r(885),d=r(2791),u=r(9434),m=function(n){return n.contacts},x=function(n){return n.contacts.contacts.items},p=function(n){return n.contacts.filter},h=r(667),b=r(5705),f=r(7103),g=r(168),j=r(6444),v=(0,j.ZP)(b.l0)(t||(t=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  width: 600px;\n  margin: 0px auto;\n  padding: 20px;\n  margin-bottom: 30px;\n\n  font-size: 24px;\n  color: #c9d1d9;\n  border-radius: 10px;\n"]))),_=(0,j.ZP)(b.gN)(o||(o=(0,g.Z)(["\n  box-sizing: border-box;\n  width: 100%;\n  font-size: 24px;\n  padding: 10px 20px;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  font-size: 28px;\n  border: none;\n  background-color: #999;\n\n  color: #2c2c2c;\n"]))),k=j.ZP.button(i||(i=(0,g.Z)(["\n  width: 50%;\n  margin-top: 20px;\n  padding: 10px 20px;\n  align-self: center;\n\n  font-size: 24px;\n  font-weight: lighter;\n  color: black;\n  border-radius: 10px;\n  border: none;\n  transition: 150ms linear;\n  background-color: #6a8623;\n\n  :hover {\n    background-color: #566d1c;\n  }\n"]))),w=j.ZP.div(a||(a=(0,g.Z)(["\n  padding-left: 10px;\n  font-size: 18px;\n  color: #bb0f0f;\n"]))),Z=r(184),y=f.Ry().shape({name:f.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Please enter the required field").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),number:f.Z_().matches(/^(?:\+38)?(0\d{9})$/,"Phone number is not valid. For example 0XXXXXXXXX").required("Please enter the required field")}),C=function(n){var e=n.onAddContact,r=(0,u.v9)(m).isLoading;return(0,Z.jsx)(b.J9,{initialValues:{name:"",number:""},validationSchema:y,onSubmit:function(n,r){r.resetForm(),e(n)},children:function(n){var e=n.errors,t=n.touched;return(0,Z.jsxs)(v,{noValidate:!0,children:[(0,Z.jsxs)("label",{htmlFor:"name",children:["Name",(0,Z.jsx)(_,{type:"text",name:"name",id:"name",required:!0}),t.name&&e.name&&(0,Z.jsx)(w,{children:e.name})]}),(0,Z.jsxs)("label",{htmlFor:"number",children:["Number",(0,Z.jsx)(_,{type:"tel",name:"number",id:"number",required:!0}),t.number&&e.number&&(0,Z.jsx)(w,{children:e.number})]}),(0,Z.jsx)(k,{type:"submit",disabled:r&&!0,children:"Add contact"})]})}})},P=(0,j.ZP)(b.gN)(c||(c=(0,g.Z)(["\n  width: 500px;\n\n  font-size: 28px;\n  box-sizing: border-box;\n  margin-top: 10px;\n  border-radius: 10px;\n  border: none;\n  background-color: #999;\n  padding: 5px 10px;\n  color: #2c2c2c;\n"]))),N=j.ZP.label(s||(s=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n"]))),z=r(3661),F=function(){var n=(0,u.I0)();return(0,Z.jsx)(b.J9,{initialValues:{filter:""},onSubmit:function(n){n.resetForm()},children:function(e){var r=e.handleChange;return(0,Z.jsx)(b.l0,{children:(0,Z.jsxs)(N,{htmlFor:"filter",children:["Find contacts by the name",(0,Z.jsx)(P,{name:"filter",id:"filter",type:"text",onChange:function(e){n((0,z.Yx)(e.target.value)),r(e)}})]})})}})},X="ContactItem_phoneBtn__aDrCl",I="ContactItem_deleteBtn__iJGwj",q="ContactItem_contactItem__akpex",S=function(n){var e=n.id,r=n.name,t=n.number,o=n.onDeleteContact,i=(0,u.v9)(m).isLoading;return(0,Z.jsxs)("li",{className:q,children:[(0,Z.jsx)("a",{href:"tel:".concat(t),className:X,children:"\ud83d\udcde"}),(0,Z.jsxs)("span",{children:[r," "]}),(0,Z.jsxs)("span",{children:[t," "]}),(0,Z.jsx)("button",{type:"button",onClick:function(){return o(e)},disabled:i&&!0,className:I,children:"\u274c"})]})},B=function(){var n,e=(0,u.I0)(),r=(0,u.v9)(x),t=(0,u.v9)(p),o=function(n){e((0,h.GK)(n)),e((0,z.Sp)(n))};return(0,Z.jsx)("ul",{children:null===(n=t||r)||void 0===n?void 0:n.map((function(n){var e=n.id,r=n.name,t=n.number;return(0,Z.jsx)(S,{name:r,number:t,onDeleteContact:o,id:e},e)}))})},L="PhoneBook_wrapper__v8Rrr",A="PhoneBook_title__v6WEu",D="PhoneBook_done__v-LDj",J=function(){var n=(0,d.useState)(!1),e=(0,l.Z)(n,2),r=e[0],t=e[1],o=(0,u.I0)(),i=(0,u.v9)(x),a=(0,u.v9)(m),c=a.isLoading,s=a.error;(0,d.useEffect)((function(){o((0,h.yF)())}),[o]);return(0,Z.jsxs)("div",{className:L,children:[(0,Z.jsx)("h1",{className:A,children:"Phonebook"}),r&&(0,Z.jsx)("img",{src:"https://img.icons8.com/color/48/000000/checkmark--v1.png",alt:"done",className:D}),c&&(0,Z.jsx)("img",{src:"https://img.icons8.com/color/48/000000/iphone-spinner--v1.png",alt:"\ud83d\udc21",className:"rotate"}),(0,Z.jsx)("br",{}),(0,Z.jsx)(C,{onAddContact:function(n){i&&i.some((function(e){return e.number===n.number}))?window.alert("".concat(n.number," is already exist in your phonebook")):i&&i.some((function(e){return e.name===n.name}))?window.alert("".concat(n.name," is already exist in your phonebook")):(t(!1),o((0,h.uK)(n)).unwrap().then((function(){t(!0),setTimeout((function(){return t(!1)}),1900)})))}}),i.length>0&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h2",{children:"Contacts"}),(0,Z.jsx)(F,{})]}),(0,Z.jsx)(B,{}),s&&(0,Z.jsx)("h2",{children:"`Oooops, smth went wrong (\xd7\ufe4f\xd7)`"})]})}}}]);
//# sourceMappingURL=231.22567fff.chunk.js.map