"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[279],{6279:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var o,a,r,i,c,s,l=t(885),d=t(2791),m=t(9434),u=function(n){return n.contacts},p=function(n){return n.contacts.contacts.items},x=function(n){return n.contacts.filter},h=function(n){return n.contacts.isLoading},b=t(667),f=t(5705),g=t(7103),_=t(168),j=t(6444),v=(0,j.ZP)(f.l0)(o||(o=(0,_.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  width: 600px;\n  margin: 0px auto;\n  padding: 20px;\n  margin-bottom: 30px;\n\n  font-size: 24px;\n  color: #c9d1d9;\n  border-radius: 10px;\n"]))),C=(0,j.ZP)(f.gN)(a||(a=(0,_.Z)(["\n  box-sizing: border-box;\n  width: 100%;\n  font-size: 24px;\n  padding: 10px 20px;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  font-size: 28px;\n  border: none;\n  background-color: #999;\n\n  color: #2c2c2c;\n"]))),k=j.ZP.button(r||(r=(0,_.Z)(["\n  width: 50%;\n  margin-top: 20px;\n  padding: 10px 20px;\n  align-self: center;\n\n  font-size: 24px;\n  font-weight: lighter;\n  color: black;\n  border-radius: 10px;\n  border: none;\n  transition: 150ms linear;\n  background-color: #6a8623;\n\n  :hover {\n    background-color: #566d1c;\n  }\n"]))),w=j.ZP.div(i||(i=(0,_.Z)(["\n  padding-left: 10px;\n  font-size: 18px;\n  color: #bb0f0f;\n"]))),Z=t(184),N=g.Ry().shape({name:g.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Please enter the required field").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),number:g.Z_().matches(/^(?:\+38)?(0\d{9})$/,"Phone number is not valid. For example 0XXXXXXXXX").required("Please enter the required field")}),y=function(n){var e=n.onAddContact,t=(0,m.v9)(u).isLoading;return(0,Z.jsx)(f.J9,{initialValues:{name:"",number:""},validationSchema:N,onSubmit:function(n,t){t.resetForm(),e(n)},children:function(n){var e=n.errors,o=n.touched;return(0,Z.jsxs)(v,{noValidate:!0,children:[(0,Z.jsxs)("label",{htmlFor:"name",children:["Name",(0,Z.jsx)(C,{type:"text",name:"name",id:"name",required:!0}),o.name&&e.name&&(0,Z.jsx)(w,{children:e.name})]}),(0,Z.jsxs)("label",{htmlFor:"number",children:["Number",(0,Z.jsx)(C,{type:"tel",name:"number",id:"number",required:!0}),o.number&&e.number&&(0,Z.jsx)(w,{children:e.number})]}),(0,Z.jsx)(k,{type:"submit",disabled:t&&!0,children:"Add contact"})]})}})},I=(0,j.ZP)(f.gN)(c||(c=(0,_.Z)(["\n  width: 500px;\n\n  font-size: 28px;\n  box-sizing: border-box;\n  margin-top: 10px;\n  border-radius: 10px;\n  border: none;\n  background-color: #999;\n  padding: 5px 10px;\n  color: #2c2c2c;\n"]))),P=j.ZP.label(s||(s=(0,_.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n"]))),U=t(3661),F=function(){var n=(0,m.I0)();return(0,Z.jsx)(f.J9,{initialValues:{filter:""},onSubmit:function(n){n.resetForm()},children:function(e){var t=e.handleChange;return(0,Z.jsx)(f.l0,{children:(0,Z.jsxs)(P,{htmlFor:"filter",children:["Find contacts by the name",(0,Z.jsx)(I,{name:"filter",id:"filter",type:"text",onChange:function(e){n((0,U.Yx)(e.target.value)),t(e)}})]})})}})},S="ContactItem_phoneBtn__aDrCl",z="ContactItem_deleteIcon__5nKtJ",B="ContactItem_deleteBtn__iJGwj",X="ContactItem_contactItem__akpex",q=t(4942),A=t(1413),L="UpdateContact_updateIcon__SczG+",D="UpdateContact_updateBtn__hmfS2",J="UpdateContact_backdrop__3d8Ur",T="UpdateContact_updateForm__8u6Ci",V="UpdateContact_closeBtn__ZSqBI",E="UpdateContact_label__tkkrm",G="UpdateContact_input__xZivI",K="UpdateContact_button__Do07V",O=function(n){var e,t=n.id,o=n.name,a=n.number,r=(0,d.useState)(!1),i=(0,l.Z)(r,2),c=i[0],s=i[1],u=(0,d.useState)({name:"",number:""}),p=(0,l.Z)(u,2),x=p[0],f=p[1],g=(0,m.I0)(),_=(0,m.v9)(h),j=function(n){f((0,A.Z)((0,A.Z)({},x),{},(0,q.Z)({},n.target.name,n.target.value)))};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("button",{type:"button",onClick:function(){f({name:o,number:a}),s(!0)},className:D,children:(0,Z.jsx)("img",{src:"https://img.icons8.com/android/24/228BE6/info.png",alt:"info",width:"20px",className:L})}),c&&(0,Z.jsxs)("div",{className:J,children:[(0,Z.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"close",className:V,onClick:function(){s(!1)}}),(0,Z.jsxs)("form",{className:T,children:[(0,Z.jsxs)("label",{className:E,children:["Updated name",(0,Z.jsx)("input",{type:"text",name:"name",value:x.name,onChange:j,className:G})]}),(0,Z.jsxs)("label",{className:E,children:["Updated number",(0,Z.jsx)("input",{type:"tel",name:"number",value:x.number,onChange:j,className:G})]}),(0,Z.jsx)("button",{type:"button",onClick:(e=t,function(n){""!==n.target.form[0].value.trim()&&""!==n.target.form[1].value.trim()?g((0,b.Tk)({userId:e,name:x.name,number:x.number})).unwrap().then((function(){return s(!1)})):s(!1)}),className:K,children:_?" Updating... ":"Update contact"})]})]})]})},R=function(n){var e=n.id,t=n.name,o=n.number,a=n.onDeleteContact,r=(0,m.v9)(u).isLoading;return(0,Z.jsxs)("li",{className:X,children:[(0,Z.jsx)("a",{href:"tel:".concat(o),children:(0,Z.jsx)("img",{src:"https://img.icons8.com/sf-ultralight/50/40C057/phone.png",alt:"call",width:"32px",className:S})}),(0,Z.jsxs)("span",{children:[t," "]}),(0,Z.jsxs)("span",{children:[o," "]}),(0,Z.jsx)(O,{id:e,name:t,number:o}),(0,Z.jsx)("button",{type:"button",onClick:function(){return a(e)},disabled:r&&!0,className:B,children:(0,Z.jsx)("img",{src:"https://img.icons8.com/windows/32/FA5252/multiply.png",alt:"delete",className:z})})]})},$=function(){var n,e=(0,m.I0)(),t=(0,m.v9)(p),o=(0,m.v9)(x),a=function(n){e((0,b.GK)(n)),e((0,U.Sp)(n))};return(0,Z.jsx)("ul",{children:null===(n=o||t)||void 0===n?void 0:n.map((function(n){var e=n.id,t=n.name,o=n.number;return(0,Z.jsx)(R,{name:t,number:o,onDeleteContact:a,id:e},e)}))})},W="PhoneBook_wrapper__v8Rrr",Y="PhoneBook_title__v6WEu",H="PhoneBook_done__v-LDj",M=function(){var n=(0,d.useState)(!1),e=(0,l.Z)(n,2),t=e[0],o=e[1],a=(0,m.I0)(),r=(0,m.v9)(p),i=(0,m.v9)(u),c=i.isLoading,s=i.error;(0,d.useEffect)((function(){a((0,b.yF)())}),[a]);return(0,Z.jsxs)("div",{className:W,children:[(0,Z.jsx)("h1",{className:Y,children:"Phonebook"}),t&&(0,Z.jsx)("img",{src:"https://img.icons8.com/color/48/000000/checkmark--v1.png",alt:"done",className:H}),c&&(0,Z.jsx)("img",{src:"https://img.icons8.com/color/48/000000/iphone-spinner--v1.png",alt:"\ud83d\udc21",className:"rotate"}),(0,Z.jsx)("br",{}),(0,Z.jsx)(y,{onAddContact:function(n){r&&r.some((function(e){return e.number===n.number}))?window.alert("".concat(n.number," is already exist in your phonebook")):r&&r.some((function(e){return e.name===n.name}))?window.alert("".concat(n.name," is already exist in your phonebook")):(o(!1),a((0,b.uK)(n)).unwrap().then((function(){o(!0),setTimeout((function(){return o(!1)}),1900)})))}}),r.length>0&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h2",{children:"Contacts"}),(0,Z.jsx)(F,{})]}),(0,Z.jsx)($,{}),s&&(0,Z.jsx)("h2",{children:"`Oooops, smth went wrong (\xd7\ufe4f\xd7)`"})]})}}}]);
//# sourceMappingURL=279.1a6ecdb8.chunk.js.map